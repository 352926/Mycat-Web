<script type="text/javascript">

window.operateEvents = {
        'click .like': function (e, value, row, index) {
        	 $("#mycatDataHost-form [name='guid']").val(row.name);
        	 loadFormData("mycatDataHost-form",JSON.stringify(row));
        	 $("#myModalLabel").text("编辑datahost");
        	 destroyValidator("mycatDataHost-form");
        	 validator();
        	 showModal("dataHostModal");
        },
        'click .remove': function (e, value, row, index) {
        	var data = {
        			 "zkId" :zkId,
        			 "guid" : row.name
        	};
        	if(confirm("确定要删除数据吗")){
        		deleteRow ('dataHostService','delete',data,callback);
        	}
        }
};

function operateFormatter(value, row, index) {
    return [
        '<a class="like" href="javascript:void(0)" title="Edit">',
        '<i class="glyphicon glyphicon-pencil"></i>',
        '</a>  ',
        '<a class="remove" href="javascript:void(0)" title="Remove">',
        '<i class="glyphicon glyphicon-remove"></i>',
        '</a>'
    ].join('');
};

var columns = [
			{
				title : '组名',
				field:'servers',
				aligin :'center'
			},
			{
				title : '区域中心',
				field : 'zone',
				aligin :'center'
			},
			{
				title : '服务',
				field:'servers',
				aligin :'center'
			},
			{
				title : '写服务',
				field : 'cur-write-server',
				aligin :'center'
			},
			{   
				title : '主从复制',
				field : 'repType',
				aligin :'center'
			
			},
			{   
				title : '心跳检查语句',
				field : 'heartbeatSQL',
				aligin :'center'
			},
			{   
				title : '自动写切换',
				field : 'auto-write-switch',
				aligin :'center'
			},
			{   
				title : '写操作类型',
				field : 'writetype',
				aligin :'center'
			},
			{
				title : '数据库组',
				field : 'mysqlGroup',
				aligin :'center'

			}/* ,{
                title: '操作',
                align: 'center',
                events: operateEvents,
                formatter: operateFormatter
            } */];


function getdatagrid(){
	url = './dispatcherAction/query.do?service=dataHostService&method=queryByPage&zkId='+zkId;
	datagrid('mycatGroupbody',url,columns);
}

$(document).ready(function() {
	getdatagrid();
});

</script>
<div class="box-body ">
	
   <table  id="mycatGroupbody"   data-toolbar="#mycatGroupbodybar"   data-id-field="name"  data-toggle="table"  class="table table-striped table-bordered table-hover" >
   </table>
</div>
	
	